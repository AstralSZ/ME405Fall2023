<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME405 Romi Project: closedloop.ClosedLoop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="Format.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME405 Romi Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classclosedloop_1_1_closed_loop.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classclosedloop_1_1_closed_loop-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">closedloop.ClosedLoop Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Initializes closed loop object that returns a motor duty using proportional control.  
 <a href="classclosedloop_1_1_closed_loop.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9244d2afca5b27064ecd7272ad5229d3" id="r_a9244d2afca5b27064ecd7272ad5229d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1_closed_loop.html#a9244d2afca5b27064ecd7272ad5229d3">__init__</a> (self, Kp, <a class="el" href="classclosedloop_1_1_closed_loop.html#a1c8e12f004dfe6747e58f266ef606deb">Vref</a>, <a class="el" href="classclosedloop_1_1_closed_loop.html#a1e2dd65624458df21f29044b617a8fd4">Mode</a>)</td></tr>
<tr class="memdesc:a9244d2afca5b27064ecd7272ad5229d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a closedloop object.  <br /></td></tr>
<tr class="separator:a9244d2afca5b27064ecd7272ad5229d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8675af162ac9a12e893f07fbee7ad4ea" id="r_a8675af162ac9a12e893f07fbee7ad4ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1_closed_loop.html#a8675af162ac9a12e893f07fbee7ad4ea">set_Kp</a> (self, kp)</td></tr>
<tr class="memdesc:a8675af162ac9a12e893f07fbee7ad4ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets proportional gain constant Kp.  <br /></td></tr>
<tr class="separator:a8675af162ac9a12e893f07fbee7ad4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70fc5da6bf5c6b7735f24fde9c16a56" id="r_ab70fc5da6bf5c6b7735f24fde9c16a56"><td class="memItemLeft" align="right" valign="top"><a id="ab70fc5da6bf5c6b7735f24fde9c16a56" name="ab70fc5da6bf5c6b7735f24fde9c16a56"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>set_mode</b> (self, mode)</td></tr>
<tr class="separator:ab70fc5da6bf5c6b7735f24fde9c16a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec28a05fad8c15b67086caac5ed0a94c" id="r_aec28a05fad8c15b67086caac5ed0a94c"><td class="memItemLeft" align="right" valign="top"><a id="aec28a05fad8c15b67086caac5ed0a94c" name="aec28a05fad8c15b67086caac5ed0a94c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>get_mode</b> (self)</td></tr>
<tr class="separator:aec28a05fad8c15b67086caac5ed0a94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715aaed8f4da45d67d11668045dcdc3f" id="r_a715aaed8f4da45d67d11668045dcdc3f"><td class="memItemLeft" align="right" valign="top"><a id="a715aaed8f4da45d67d11668045dcdc3f" name="a715aaed8f4da45d67d11668045dcdc3f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>set_Velocity</b> (self, vref)</td></tr>
<tr class="separator:a715aaed8f4da45d67d11668045dcdc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f6a880747a9bb1b4c8998aeffe4eef" id="r_a10f6a880747a9bb1b4c8998aeffe4eef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1_closed_loop.html#a10f6a880747a9bb1b4c8998aeffe4eef">zero_L</a> (self)</td></tr>
<tr class="memdesc:a10f6a880747a9bb1b4c8998aeffe4eef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeros error.  <br /></td></tr>
<tr class="separator:a10f6a880747a9bb1b4c8998aeffe4eef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3546add6898b89883b5f2841d207b25" id="r_aa3546add6898b89883b5f2841d207b25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1_closed_loop.html#aa3546add6898b89883b5f2841d207b25">update</a> (self, vmeas)</td></tr>
<tr class="memdesc:aa3546add6898b89883b5f2841d207b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reference value <br  />
  <br /></td></tr>
<tr class="separator:aa3546add6898b89883b5f2841d207b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aae8c3c1b5cb36912bca6b14089e108f3" id="r_aae8c3c1b5cb36912bca6b14089e108f3"><td class="memItemLeft" align="right" valign="top"><a id="aae8c3c1b5cb36912bca6b14089e108f3" name="aae8c3c1b5cb36912bca6b14089e108f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Kp</b></td></tr>
<tr class="separator:aae8c3c1b5cb36912bca6b14089e108f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8e12f004dfe6747e58f266ef606deb" id="r_a1c8e12f004dfe6747e58f266ef606deb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1_closed_loop.html#a1c8e12f004dfe6747e58f266ef606deb">Vref</a></td></tr>
<tr class="memdesc:a1c8e12f004dfe6747e58f266ef606deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reference value <br  />
  <br /></td></tr>
<tr class="separator:a1c8e12f004dfe6747e58f266ef606deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2dd65624458df21f29044b617a8fd4" id="r_a1e2dd65624458df21f29044b617a8fd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclosedloop_1_1_closed_loop.html#a1e2dd65624458df21f29044b617a8fd4">Mode</a></td></tr>
<tr class="memdesc:a1e2dd65624458df21f29044b617a8fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets mode <br  />
  <br /></td></tr>
<tr class="separator:a1e2dd65624458df21f29044b617a8fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e5405d3f994099318277aaabe71aeb4" id="r_a1e5405d3f994099318277aaabe71aeb4"><td class="memItemLeft" align="right" valign="top"><a id="a1e5405d3f994099318277aaabe71aeb4" name="a1e5405d3f994099318277aaabe71aeb4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>L</b></td></tr>
<tr class="separator:a1e5405d3f994099318277aaabe71aeb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa02ade5c8f5a776172bc4be556d70a1a" id="r_aa02ade5c8f5a776172bc4be556d70a1a"><td class="memItemLeft" align="right" valign="top"><a id="aa02ade5c8f5a776172bc4be556d70a1a" name="aa02ade5c8f5a776172bc4be556d70a1a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mode</b></td></tr>
<tr class="separator:aa02ade5c8f5a776172bc4be556d70a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initializes closed loop object that returns a motor duty using proportional control. </p>
<p>ClosedLoop class is to be used to create an closedloop object which counter intuitively can be used for closed or open loop control. It allows the user to update the constant of proportionality (Kp), the mode, the reference value. It allows the user to zero the error, get the mode, and update the control logic with measured values. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9244d2afca5b27064ecd7272ad5229d3" name="a9244d2afca5b27064ecd7272ad5229d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9244d2afca5b27064ecd7272ad5229d3">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">closedloop.ClosedLoop.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Kp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Vref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a closedloop object. </p>
<p>Initialzes the passed in parameters as well as important local variables</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Kp</td><td>Constant of proportionality </td></tr>
    <tr><td class="paramname">Vref</td><td>Reference value </td></tr>
    <tr><td class="paramname">Mode</td><td>'Cl' for closed loop or 'OL' for open loop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8675af162ac9a12e893f07fbee7ad4ea" name="a8675af162ac9a12e893f07fbee7ad4ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8675af162ac9a12e893f07fbee7ad4ea">&#9670;&#160;</a></span>set_Kp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">closedloop.ClosedLoop.set_Kp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets proportional gain constant Kp. </p>
<p>Updates the local variable Kp with paramerter kp</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kp</td><td>Constant of Proportionality </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3546add6898b89883b5f2841d207b25" name="aa3546add6898b89883b5f2841d207b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3546add6898b89883b5f2841d207b25">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">closedloop.ClosedLoop.update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vmeas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the reference value <br  />
 </p>
<p>If in closed loop mode, takes the difference between the reference value and the measured value and multiplies it by Kp to find the error and returns this error. If in open loop mode, returns the reference value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vmeas</td><td>Measured value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If OL returns reference value. If CL returns error. </dd></dl>

</div>
</div>
<a id="a10f6a880747a9bb1b4c8998aeffe4eef" name="a10f6a880747a9bb1b4c8998aeffe4eef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f6a880747a9bb1b4c8998aeffe4eef">&#9670;&#160;</a></span>zero_L()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">closedloop.ClosedLoop.zero_L </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zeros error. </p>
<p>Sets the variable for error to zero. <br  />
 </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1e2dd65624458df21f29044b617a8fd4" name="a1e2dd65624458df21f29044b617a8fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2dd65624458df21f29044b617a8fd4">&#9670;&#160;</a></span>Mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">closedloop.ClosedLoop.Mode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets mode <br  />
 </p>
<p>Updates the local variable Mode with paramerter mode</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>'Cl' for closed loop or 'OL' for open loop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c8e12f004dfe6747e58f266ef606deb" name="a1c8e12f004dfe6747e58f266ef606deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8e12f004dfe6747e58f266ef606deb">&#9670;&#160;</a></span>Vref</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">closedloop.ClosedLoop.Vref</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the reference value <br  />
 </p>
<p>Updates the reference value with the passed in parameter</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vref</td><td>Reference value for control </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="closedloop_8py.html">closedloop.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>closedloop</b></li><li class="navelem"><a class="el" href="classclosedloop_1_1_closed_loop.html">ClosedLoop</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
